(this["webpackJsonpworkout-timer"]=this["webpackJsonpworkout-timer"]||[]).push([[0],{54:function(n,e,t){n.exports=t(63)},63:function(n,e,t){"use strict";t.r(e);var i=t(3),r=t(44),o=t(22),a=t(23),c=t(19),u=t(51),l=t(52),s=t(46);function m(){var n=Object(c.a)(["\n  html, body {\n    padding: 0;\n    margin: 0;\n  }\n\n  * {\n    box-sizing: border-box;\n  }\n"]);return m=function(){return n},n}var d="#FBFEF9",f="#F3EFF5",h="#1C2826",b="#ef3054",v="#43AA8B",p="#3454D1",g="#F49390";Object(l.a)(m());var T={error:b,success:v},E=Object(a.a)({},T,{background:f,body:h,primary:g,primaryAlt:d}),w=Object(a.a)({},T,{background:h,body:d,primary:p,primaryAlt:d}),y={mode:"dark",setTheme:function(){}},O=i.createContext(y),k=u.a,x=t(41),S=t(49),j=t(2),I=t(38),N=t(65),C=t(67),A=t(68),M=t(53),F=t(66),_=function(n){return 1e3*n},W=function(n){return _(60*n)},R=N.a((function(n,e,t){return t.padStart(n,e)})),D=C.a([function(n){return Math.floor(n/36e5%24)},function(n){return Math.floor(n/6e4%60)},function(n){return Math.floor(n/1e3%60)}]),U=A.a(D,M.a(A.a(String,R(2,"0"))),F.a(":")),z={initial:"idle",id:"main",context:{initialTime:W(6),currentTime:W(6),notificationTimes:[]},states:{idle:{on:{START:"running",RESET:{actions:["reset"]},SET_TIME:{actions:["setTime"]},SET_NOTIFICATION_TIMES:{internal:!1,actions:["setNotifications"]}}},running:{invoke:[{src:"timer",id:"timer"},{src:"plantNotifications",id:"plantNotifications"}],on:{"":{target:"idle",cond:function(n){return n.currentTime<=0}},STOP:"idle",COUNT_DOWN:{actions:["countDown"]}}}}},P={actions:{setNotifications:Object(j.b)({notificationTimes:function(n,e){return"SET_NOTIFICATION_TIMES"===e.type?e.payload.notificationTimes:n.notificationTimes}}),setTime:Object(j.b)({initialTime:function(n,e){return"SET_TIME"===e.type?e.payload.time:n.initialTime},currentTime:function(n,e){return"SET_TIME"===e.type?e.payload.time:n.currentTime}}),countDown:Object(j.b)({currentTime:function(n){return n.currentTime-_(1)}}),reset:Object(j.b)({currentTime:function(n){return n.initialTime}})},services:{timer:function(){return function(n){var e=setInterval((function(){n("COUNT_DOWN")}),_(1));return function(){clearInterval(e)}}}}},B=Object(I.a)(z,P);function J(){var n=Object(c.a)(["\n  display: flex;\n  flex-direction: column;\n  box-shadow: 0 10px 20px 0 rgba(0, 0, 0, 0.25);\n  border-radius: 6px;\n  padding: 1.5rem;\n  width: 100%;\n  max-width: 414px;\n  margin-bottom: 1rem;\n  overflow: hidden;\n  &:last-of-type {\n    margin-bottom: 0;\n  }\n\n  label {\n    display: flex;\n    align-items: center;\n    font-size: 1.5rem;\n    input {\n      font-size: 1.5rem;\n      flex: 1;\n    }\n  }\n"]);return J=function(){return n},n}function L(){var n=Object(c.a)(["\n  display: flex;\n  flex-wrap: wrap;\n  padding: 1rem;\n  justify-content: space-between;\n"]);return L=function(){return n},n}function $(){var n=Object(c.a)(["\n  font-size: 3rem;\n  text-align: center;\n"]);return $=function(){return n},n}function q(){var n=Object(c.a)(["\n  background-color: ",";\n  color: ",";\n  border: none;\n  padding: 0.5rem 1rem;\n  font-family: inherit;\n  font-size: 1.5rem;\n  margin-bottom: 1rem;\n  width: 100%;\n  max-width: 414px;\n\n  &:first-of-type {\n    margin-left: 0;\n  }\n\n  &:hover {\n    cursor: pointer;\n  }\n\n  &:hover,\n  &:focus {\n    filter: brightness(0.75);\n  }\n\n  &:disabled {\n    opacity: 0.5;\n  }\n"]);return q=function(){return n},n}function G(){var n=Object(c.a)(["\n  padding: 1rem;\n"]);return G=function(){return n},n}var H=k.div(G()),K=k.button(q(),(function(n){return n.theme.primary}),(function(n){return n.theme.primaryAlt})),Q=k.h2($()),V=k.div(L()),X=k.div(J()),Y=function(){var n=Object(S.useMachine)(B,{services:{plantNotifications:function(n){return function(){var e=(new Date).getTime(),t=n.notificationTimes.map((function(t){var i=(t.interval?setInterval:setTimeout)((function(){var i=new SpeechSynthesisUtterance(t.message||function(n){var e=D(n),t=Object(o.a)(e,3),i=t[0],r=t[1],a=t[2],c="";return i>0&&(c+="".concat(i," hour").concat(1===i?"":"s",". ")),r>0&&(c+="".concat(r," minute").concat(1===r?"":"s",". ")),a>0&&(c+="".concat(a," second").concat(1===a?"":"s")),c}(function(){var t=(new Date).getTime();return n.initialTime-(t-e-1e3)}()));window.speechSynthesis.speak(i)}),_(t.time));return Object(a.a)({},t,{id:i})}));return function(){t.forEach((function(n){(n.interval?clearInterval:clearTimeout)(n.id)}))}}}}}),e=Object(o.a)(n,2),t=e[0],r=e[1],c=function(n){return function(e){var i=Object(x.a)(t.context.notificationTimes);switch(e.target.type){case"checkbox":i[n].interval=e.target.checked;break;case"number":i[n].time=Number(e.target.value);break;case"text":i[n].message=e.target.value}r({type:"SET_NOTIFICATION_TIMES",payload:{notificationTimes:i}})}},u=t.context.initialTime===t.context.currentTime;return i.createElement("div",null,i.createElement(H,null,i.createElement("h1",null,"Workout Timer"),i.createElement(Q,null,U(t.context.currentTime))),i.createElement(V,null,i.createElement(K,{disabled:t.matches("running"),onClick:function(){r("START")}},"Start"),i.createElement(K,{disabled:!t.matches("running"),onClick:function(){r("STOP")}},"Stop"),i.createElement(K,{disabled:u||t.matches("running"),onClick:function(){r("RESET")}},"Reset"),i.createElement(K,{onClick:function(){var n=Object(x.a)(t.context.notificationTimes);n.push({time:0,interval:!1}),r({type:"SET_NOTIFICATION_TIMES",payload:{notificationTimes:n}})},disabled:!u||t.matches("running")},"Add Notification"),t.context.notificationTimes.map((function(n,e){return i.createElement(X,{key:"".concat(e)},i.createElement("label",{htmlFor:"seconds:".concat(e)},"Seconds:"," ",i.createElement("input",{disabled:t.matches("running"),type:"number",value:n.time,onChange:c(e)})),i.createElement("label",{htmlFor:"interval:".concat(e)},"Interval:"," ",i.createElement("input",{disabled:t.matches("running"),id:"interval:".concat(e),type:"checkbox",checked:n.interval,onChange:c(e)})),i.createElement("label",{htmlFor:"message:".concat(e)},"Message:"," ",i.createElement("input",{disabled:t.matches("running"),id:"interval:".concat(e),type:"text",value:n.message||"",onChange:c(e)})))}))))},Z=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function nn(n,e){navigator.serviceWorker.register(n).then((function(n){n.onupdatefound=function(){var t=n.installing;null!=t&&(t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),e&&e.onUpdate&&e.onUpdate(n)):(console.log("Content is cached for offline use."),e&&e.onSuccess&&e.onSuccess(n)))})}})).catch((function(n){console.error("Error during service worker registration:",n)}))}var en=document.getElementById("root");Object(r.render)(i.createElement((function(n){var e=n.children,t=function(){var n=i.useState({mode:y.mode,hasMounted:!1}),e=Object(o.a)(n,2)[1];return i.useEffect((function(){var n=localStorage.getItem("mode")||"dark";e((function(e){return Object(a.a)({},e,{mode:n,hasMounted:!0})}))}),[e]),n}(),r=Object(o.a)(t,2),c=r[0],u=r[1];if(!c.hasMounted)return i.createElement("div",null);var l;return i.createElement(s.a,{theme:(l=c.mode,"dark"===l?w:E)},i.createElement(O.Provider,{value:{mode:c.mode,setTheme:function(n){n||(n={light:"dark",dark:"light"}[c.mode]),u((function(e){return Object(a.a)({},e,{mode:n})}))}}},e))}),null,i.createElement(Y,null)),en),function(n){if("serviceWorker"in navigator){if(new URL("/workout-timer",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var e="".concat("/workout-timer","/service-worker.js");Z?(!function(n,e){fetch(n,{headers:{"Service-Worker":"script"}}).then((function(t){var i=t.headers.get("content-type");404===t.status||null!=i&&-1===i.indexOf("javascript")?navigator.serviceWorker.ready.then((function(n){n.unregister().then((function(){window.location.reload()}))})):nn(n,e)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(e,n),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):nn(e,n)}))}}()}},[[54,1,2]]]);
//# sourceMappingURL=main.2c0d9b62.chunk.js.map